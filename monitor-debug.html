
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Optional: Troubleshoot and Debug Â· IBM Cloud Kubernetes Service Lab</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-prism/prism-tomorrow.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-collapsible-chapters/collapsible-chapters.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-hints/plugin-hints.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fancybox/jquery.fancybox.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fancybox/jquery.fancybox-buttons.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-web-header/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="monitor-cluster-logs.html" />
    
    
    <link rel="prev" href="devops-continuous-delivery.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">Introduction</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                        <b>1.1.</b>
                    
                    Lab Overview
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Preparation</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="prepare-prereq.html">
            
                <a href="prepare-prereq.html">
            
                    
                        <b>2.1.</b>
                    
                    Pre-Requisites
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="prepare-plugins.html">
            
                <a href="prepare-plugins.html">
            
                    
                        <b>2.2.</b>
                    
                    Install Container Plugins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="prepare-cli.html">
            
                <a href="prepare-cli.html">
            
                    
                        <b>2.3.</b>
                    
                    Main command lines
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="prepare-get-cluster.html">
            
                <a href="prepare-get-cluster.html">
            
                    
                        <b>2.4.</b>
                    
                    Get a cluster
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Lab 1 - Deploy an app in a Kubernetes cluster</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="view-cluster.html">
            
                <a href="view-cluster.html">
            
                    
                        <b>3.1.</b>
                    
                    View your cluster
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="kube-dashboard.html">
            
                <a href="kube-dashboard.html">
            
                    
                        <b>3.2.</b>
                    
                    Kubernetes Dashboard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="connect-via-cli.html">
            
                <a href="connect-via-cli.html">
            
                    
                        <b>3.3.</b>
                    
                    Connect via CLI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="get-app.html">
            
                <a href="get-app.html">
            
                    
                        <b>3.4.</b>
                    
                    Get and run the app locally
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="docker-build.html">
            
                <a href="docker-build.html">
            
                    
                        <b>3.5.</b>
                    
                    Build docker image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="docker-push.html">
            
                <a href="docker-push.html">
            
                    
                        <b>3.6.</b>
                    
                    Push docker image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="deploy-app.html">
            
                <a href="deploy-app.html">
            
                    
                        <b>3.7.</b>
                    
                    Deploy app
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="scale-app.html">
            
                <a href="scale-app.html">
            
                    
                        <b>3.8.</b>
                    
                    Scale app
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.9" data-path="connect-database.html">
            
                <a href="connect-database.html">
            
                    
                        <b>3.9.</b>
                    
                    Optional: Connect to a database
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10" data-path="test-resiliency.html">
            
                <a href="test-resiliency.html">
            
                    
                        <b>3.10.</b>
                    
                    Optional: Test the resiliency
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11" data-path="clean-up.html">
            
                <a href="clean-up.html">
            
                    
                        <b>3.11.</b>
                    
                    Clean up
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Lab 2 - DevOps and Helm charts</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="devops-helm.html">
            
                <a href="devops-helm.html">
            
                    
                        <b>4.1.</b>
                    
                    Deploy with Helm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="devops-continuous-delivery.html">
            
                <a href="devops-continuous-delivery.html">
            
                    
                        <b>4.2.</b>
                    
                    Deploy with Continuous Delivery
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="4.3" data-path="monitor-debug.html">
            
                <a href="monitor-debug.html">
            
                    
                        <b>4.3.</b>
                    
                    Optional: Troubleshoot and Debug
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Lab 3 - Monitor your cluster</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="monitor-cluster-logs.html">
            
                <a href="monitor-cluster-logs.html">
            
                    
                        <b>5.1.</b>
                    
                    Cluster Logs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="monitor-cluster-metrics.html">
            
                <a href="monitor-cluster-metrics.html">
            
                    
                        <b>5.2.</b>
                    
                    Monitoring your cluster
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Advanced</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="appendix-create-cluster-cli.html">
            
                <a href="appendix-create-cluster-cli.html">
            
                    
                        <b>6.1.</b>
                    
                    Create a cluster with CLI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="appendix-create-cluster-ui.html">
            
                <a href="appendix-create-cluster-ui.html">
            
                    
                        <b>6.2.</b>
                    
                    Create a cluster in the Console
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="weavescope.html">
            
                <a href="weavescope.html">
            
                    
                        <b>6.3.</b>
                    
                    Weavescope
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="appendix-terraform.html">
            
                <a href="appendix-terraform.html">
            
                    
                        <b>6.4.</b>
                    
                    Provisioning with Terraform
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="calico.html">
            
                <a href="calico.html">
            
                    
                        <b>6.5.</b>
                    
                    Controlling traffic with network policies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="appendix.html">
            
                <a href="appendix.html">
            
                    
                        <b>6.6.</b>
                    
                    Appendix
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Resources</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="resources.html">
            
                <a href="resources.html">
            
                    
                        <b>7.1.</b>
                    
                    Resources
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Optional: Troubleshoot and Debug</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="troubleshoot-and-debug">Troubleshoot and Debug</h1>
<p>What techniques for general Ingress troubleshooting and debugging can you consider?</p>
<p>You publicly exposed your app by creating an Ingress resource for your app in your cluster. However, when you try to connect to your app through the ALB&apos;s public IP address or subdomain, the connection fails or times out. The steps in the following sections can help you debug your Ingress setup.</p>
<p>     <a href="images/monitor-debug.png" rel="grouped" title="" target="_self" class="fancybox">
       <img src="images/monitor-debug.png" alt="">
     </a></p>
<h2 id="deploy-run-ingress-tests-in-the-ibm-cloud-kubernetes-service-diagnostics-and-debug-tool">Deploy Run Ingress tests in the IBM Cloud Kubernetes Service Diagnostics and Debug Tool</h2>
<ol>
<li><p>Set up Helm in your cluster, create a service account for Tiller, and add the ibm repository to your Helm instance. You need to do the steps done in Step 4.1.</p>
</li>
<li><p>Add the IBM Cloud Helm repositories to your Helm instance.</p>
<pre class="language-"><code> helm repo add iks-charts https://icr.io/helm/iks-charts
</code></pre><pre class="language-"><code> helm repo add ibm-charts https://icr.io/helm/ibm-charts
</code></pre></li>
<li><p>Update the repos to retrieve the latest versions of all Helm charts.</p>
<pre class="language-"><code> helm repo update
</code></pre></li>
<li><p>List the Helm charts that are currently available in the IBM Cloud repositories.</p>
<pre class="language-"><code> helm search iks-charts
</code></pre><pre class="language-"><code> helm search ibm-charts
</code></pre></li>
<li><p>Install the Helm Debug chart to your cluster.</p>
<pre class="language-"><code> helm install iks-charts/ibmcloud-iks-debug --name debug-tool
</code></pre></li>
<li><p>Start a proxy server to display the debug tool interface.</p>
<pre class="language-"><code> kubectl proxy --port 8080
</code></pre></li>
<li><p>In a web browser, open the debug tool interface URL:</p>
<pre class="language-"><code> http://localhost:8080/api/v1/namespaces/default/services/debug-tool-ibmcloud-iks-debug:8822/proxy/page
</code></pre></li>
<li><p>Select the ingress group of tests. Some tests check for potential warnings, errors, or issues, and some tests only gather information that you can reference while you troubleshoot. For more information about the function of each test, click the information icon next to the test&apos;s name.</p>
</li>
<li><p>Click <strong>Run</strong>.</p>
</li>
<li><p>Check the results of each test.</p>
<ul>
<li>If any test fails, click the information icon next to the test&apos;s name in the left-hand column for information about how to resolve the issue.</li>
<li>You can also use the results of tests that only gather information while you debug your Ingress service in the following sections.</li>
</ul>
</li>
</ol>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="devops-continuous-delivery.html" class="navigation navigation-prev " aria-label="Previous page: Deploy with Continuous Delivery">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="monitor-cluster-logs.html" class="navigation navigation-next " aria-label="Next page: Cluster Logs">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Optional: Troubleshoot and Debug","level":"4.3","depth":1,"next":{"title":"Cluster Logs","level":"5.1","depth":1,"path":"monitor-cluster-logs.md","ref":"monitor-cluster-logs.md","articles":[]},"previous":{"title":"Deploy with Continuous Delivery","level":"4.2","depth":1,"path":"devops-continuous-delivery.md","ref":"devops-continuous-delivery.md","articles":[]},"dir":"ltr"},"config":{"plugins":["prism","-highlight","collapsible-chapters","hints","copy-code-button","back-to-top-button","fancybox","web-header"],"root":"book","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"webheader":{"headerTitle":"IBM Cloud Kubernetes Service (IKS) Lab"},"prism":{"css":["prismjs/themes/prism-tomorrow.css"]},"fancybox":{"helpers":{"buttons":{}},"openEffect":"elastic","closeEffect":"elastic"},"web-header":{},"search":{},"collapsible-chapters":{},"hints":{"danger":"fa fa-exclamation-circle","info":"fa fa-info-circle","tip":"fa fa-mortar-board","working":"fa fa-wrench"},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"back-to-top-button":{},"copy-code-button":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":true}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"IBM Cloud Kubernetes Service Lab","gitbook":"3.2.3"},"file":{"path":"monitor-debug.md","mtime":"2018-11-11T11:11:11.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-11-11T11:11:11.000Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-collapsible-chapters/collapsible-chapters.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fancybox/jquery.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fancybox/jquery.mousewheel.pack.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fancybox/jquery.fancybox.pack.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fancybox/jquery.fancybox-buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fancybox/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-web-header/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

